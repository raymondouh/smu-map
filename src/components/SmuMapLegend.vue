<template>
<div class="smu-map-legend">
    <div class="legend">
        <div class="legend-max">
            {{ rangeLegend.max }} {{unit}}
            <tooltip :tooltiptSelector="'legend-tooltip'" :flowSelector="'right'"></tooltip>
        </div>
        <div class="legend-body">
            <svg width="38" height="305" viewBox="0 0 38 305" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg":style="styleObject">
                <g id="SMU-gradient-background">
                    <rect style="fill:url(#linearGradient1617);fill-opacity:1;" width="36" height="303" x="1" y="1" />
                </g>
                <g>
                    <path id="SMU-scale-background"
                        d="M 0,0 V 305 H 38 V 0 Z m 19.001949,1.5351562 c 0.03402,0 4.02915,3.6622494 8.87696,8.1367188 l 8.814449,8.134766 v 16.203125 l 0.0019,16.203125 -0.244138,-0.216794 C 36.316569,49.877042 32.33901,46.20858 27.61128,41.843755 l -8.597659,-7.935548 -0.289059,0.265625 c -0.15987,0.146646 -4.00396,3.687737 -8.541019,7.869142 -4.5370501,4.181404 -8.3884601,7.732486 -8.5605401,7.890625 L 1.3085399,50.220692 1.3104999,34.013661 1.3124499,17.80663 10.1269,9.6718636 C 14.974409,5.1973943 18.967999,1.535145 19.001899,1.5351449 Z m 0.0254,35.9785158 c 0.02268,0.01134 4.008529,3.686898 8.855469,8.166016 l 8.8125,8.14453 v 16.164061 c 0,8.890167 -0.04197,16.145866 -0.09375,16.125003 -0.05178,-0.0189 -4.000349,-3.646715 -8.773439,-8.058595 -4.77305,-4.411881 -8.74295,-8.021485 -8.82421,-8.021485 -0.08126,0 -4.05477,3.609604 -8.828129,8.021485 -4.7733501,4.41188 -8.7196999,8.037732 -8.7714799,8.058595 -0.05178,0.02268 -0.09571,-7.235135 -0.09571,-16.125003 V 53.824218 l 8.8378829,-8.166017 c 4.860889,-4.491817 8.857509,-8.156926 8.880859,-8.144529 z m 0.0039,35.990233 8.83203,8.156251 8.83203,8.158204 v 16.21484 16.21485 l -0.425772,-0.40625 c -0.234708,-0.22375 -4.20986,-3.89658 -8.832029,-8.16211 -7.29865,-6.73554 -8.42716,-7.73794 -8.58594,-7.61133 -0.203339,0.16214 -16.2926691,14.98779 -17.0585891,15.71875 l -0.48438,0.46094 V 106.0332 89.816406 l 8.4863298,-7.843751 c 4.6667393,-4.314369 8.6527893,-7.98443 8.8593793,-8.156247 z m -0.04883,36.031255 c 0.03024,-0.0113 4.02649,3.64076 8.87891,8.11523 l 8.822259,8.13477 0.0039,16.18554 c 0.003,8.902 -0.01602,16.18555 -0.03906,16.18555 -0.02268,0 -3.97867,-3.6354 -8.78906,-8.07813 -4.8104,-4.44272 -8.796829,-8.07636 -8.859379,-8.07617 -0.06274,2.3e-4 -4.05067,3.63563 -8.86133,8.07813 -4.8106601,4.44249 -8.7654398,8.07617 -8.7890598,8.07617 -0.022681,0 -0.04013,-7.28355 -0.037111,-16.18555 h 0.00195 l 0.00391,-16.18554 8.8046898,-8.11524 c 4.842589,-4.46381 8.828949,-8.12411 8.859369,-8.13476 z m 0.01954,36.06836 c 0.07333,0 4.08508,3.64649 8.91407,8.10546 l 8.779289,8.10743 v 16.23047 16.22851 l -0.65429,-0.63477 c -1.221059,-1.18321 -16.973089,-15.68554 -17.037109,-15.68554 -0.05405,0 -15.1158392,13.86362 -17.0410191,15.68554 l -0.6543,0.61915 v -16.22071 -16.22265 l 8.7812401,-8.10743 c 4.828949,-4.45897 8.838869,-8.10546 8.912109,-8.10546 z m -0.01368,35.94726 c 0.04006,-0.008 4.04127,3.64858 8.890629,8.12305 l 8.8164,8.13476 v 16.19727 16.19726 l -0.375001,-0.33007 c -0.206347,-0.18141 -4.059896,-3.72612 -8.562486,-7.87891 -4.50255,-4.15279 -8.3168,-7.67168 -8.47656,-7.81836 l -0.29102,-0.26563 -8.59765,7.93555 c -4.7282011,4.36487 -8.7058311,8.03314 -8.8398611,8.15235 l -0.2441401,0.21679 0.00196,-16.20312 0.00195,-16.20313 8.8007802,-8.12304 c 4.841009,-4.46782 8.834939,-8.12812 8.874999,-8.13477 z m 0.01565,35.92578 8.81836,8.14453 8.81835,8.14453 0.02929,16.19532 c 0.01512,8.90698 -0.01036,16.17719 -0.0625,16.15625 -0.05064,-0.0189 -3.99936,-3.64867 -8.77344,-8.06055 -4.774029,-4.41188 -8.747829,-8.02148 -8.830069,-8.02148 -0.0824,0 -4.05305,3.6096 -8.82618,8.02148 -4.7731599,4.41188 -8.7219596,8.03965 -8.7734296,8.06055 -0.0514,0.0227 -0.08033,-7.24928 -0.06446,-16.1543 h -0.00195 l 0.029299,-16.18945 6.9609294,-6.4336 c 3.8281802,-3.53797 7.7965702,-7.20495 8.8183602,-8.14843 z m 0.03126,36.03125 8.83007,8.1543 8.830079,8.1543 V 286.0332 302.25 l -0.425792,-0.40625 c -0.234708,-0.22413 -4.208389,-3.89856 -8.830079,-8.16406 -7.33719,-6.77171 -8.42785,-7.73532 -8.58984,-7.60742 -0.199559,0.15761 -16.2509591,14.94991 -17.0566391,15.71875 l -0.48438,0.46093 v -16.21679 -16.21485 l 8.5468798,-7.90039 c 4.7004493,-4.34577 8.6891193,-8.01607 8.8632793,-8.15625 z" />
                </g>
                <g id="SMU-scale-block-1">
                    <title>{{rangeLegend.range[7][0]}} - {{rangeLegend.range[7][1]}} {{unit}}</title>
                    <path class="path-stroke" d="M 18.999999,1 0.99999995,17.625 V 34.179687 51 L 18.999999,34.375 l 18,16.625 V 17.625 Z m 0,0.3886719 L 36.714843,17.75 V 50.347654 L 18.999999,33.986328 1.2851562,50.347654 V 34.179687 17.75 Z"
                        id="stroke-1" />
                    <path class="scale-background"
                        d="m 1.3104911,34.013576 0.002,-16.206737 L 10.1262,9.671446 c 4.847538,-4.4744659 8.841434,-8.1353928 8.875324,-8.1353928 0.03389,0 4.028024,3.6609269 8.875855,8.1353928 l 8.814236,8.135393 0.0015,16.203085 0.0015,16.203084 -0.244574,-0.216756 c -0.134516,-0.119206 -4.11274,-3.787993 -8.8405,-8.152837 l -8.595927,-7.936082 -0.290483,0.26643 c -0.159758,0.146536 -4.002604,3.687579 -8.539649,7.868984 -4.5370469,4.181405 -8.3899802,7.731931 -8.5620751,7.890062 l -0.3128997,0.287509 z"
                        id="scale-background-1" />
                </g>
                <g id="SMU-scale-block-2">
                    <title>{{rangeLegend.range[6][0]}} - {{rangeLegend.range[6][1]}} {{unit}}</title>
                    <path class="path-stroke"
                        d="M 18.999999,37 0.99999995,53.624999 V 70.18164 87.000001 L 18.999999,70.375 l 18,16.625001 V 53.624999 Z m 0,0.390625 L 36.714843,53.75 V 86.347658 L 18.999999,69.986329 1.2851562,86.347658 V 70.18164 53.75 Z"
                        id="stroke-2" />
                    <path class="scale-background"
                        d="M 1.3084897,69.988313 V 53.824906 L 10.1465,45.65799 c 4.860905,-4.491803 8.857106,-8.156777 8.880445,-8.144388 0.02334,0.0124 4.00811,3.687266 8.855046,8.166392 l 8.812612,8.143869 v 16.163932 c 0,8.890163 -0.04231,16.146864 -0.09401,16.126001 -0.05171,-0.02079 -3.999249,-3.647649 -8.772317,-8.059536 -4.773068,-4.411885 -8.744809,-8.021613 -8.826093,-8.021613 -0.08128,0 -4.053246,3.609728 -8.826586,8.021613 -4.7733402,4.411887 -8.7211693,8.038677 -8.7729534,8.059536 -0.051784,0.02079 -0.094153,-7.235607 -0.094154,-16.125483 z"
                        id="scale-background-2" />
                </g>
                <g id="SMU-scale-block-3">
                    <title>{{rangeLegend.range[5][0]}} - {{rangeLegend.range[5][1]}} {{unit}}</title>
                    <path class="path-stroke"
                        d="M 18.999999,72.999999 0.99999995,89.625 V 106.18164 123 l 17.99999905,-16.625 18,16.625 V 89.625 Z m 0,0.390626 L 36.714843,89.75 v 32.59765 L 18.999999,105.98633 1.2851562,122.34765 V 106.18164 89.75 Z" id="stroke-3" />
                    <path class="scale-background"
                        d="M 1.3084897,106.03313 V 89.817302 l 8.4850084,-7.844254 c 4.6667549,-4.314342 8.6540269,-7.984842 8.8606039,-8.156667 l 0.375597,-0.312416 8.832453,8.157374 8.832451,8.157377 v 16.214514 16.21451 l -0.426682,-0.40652 c -0.234674,-0.2236 -4.208446,-3.89649 -8.830605,-8.16202 -7.298669,-6.73553 -8.42797,-7.73634 -8.586755,-7.60974 -0.203205,0.16199 -16.2925642,14.98701 -17.058499,15.71798 l -0.4835723,0.4615 z"
                        id="scale-background-3" />
                </g>
                <g id="SMU-scale-block-4">
                    <title>{{rangeLegend.range[4][0]}} - {{rangeLegend.range[4][1]}} {{unit}}</title>
                    <path class="path-stroke" d="M 18.999999,109 0.99999995,125.625 V 142.18164 159 l 17.99999905,-16.625 18,16.625 v -33.375 z m 0,0.39062 17.714844,16.35938 v 32.59765 L 18.999999,141.98633 1.2851562,158.34765 V 142.18164 125.75 Z"
                        id="stroke-4" />
                    <path class="scale-background"
                        d="m 1.3135317,141.97114 0.00504,-16.18545 8.8046763,-8.11601 c 4.842571,-4.46381 8.829578,-8.12473 8.860016,-8.13539 0.03044,-0.0106 4.025511,3.64154 8.877942,8.11601 l 8.8226,8.13539 0.0054,16.18545 c 0.003,8.902 -0.01416,16.18545 -0.03807,16.18545 -0.02391,0 -3.979242,-3.63495 -8.789637,-8.07766 -4.810391,-4.44272 -8.797371,-8.07747 -8.859951,-8.07725 -0.06258,2.3e-4 -4.049778,3.63518 -8.86044,8.07767 -4.8106624,4.44248 -8.7659993,8.07724 -8.7896376,8.07724 -0.023638,0 -0.04071,-7.28345 -0.037937,-16.18545 z"
                        id="scale-background-4" />
                </g>
                <g id="SMU-scale-block-5">
                    <title>{{rangeLegend.range[3][0]}} - {{rangeLegend.range[3][1]}} {{unit}}</title>
                    <path class="path-stroke" d="M 18.999999,145 0.99999995,161.625 V 178.18164 195 l 17.99999905,-16.625 18,16.625 v -33.375 z m 0,0.39062 17.714844,16.35938 v 32.59765 L 18.999999,177.98633 1.2851562,194.34765 V 178.18164 161.75 Z"
                        id="stroke-5" />
                    <path class="scale-background"
                        d="m 1.3084897,178.03857 v -16.22146 l 8.7799483,-8.10722 c 4.828972,-4.45897 8.83987,-8.10721 8.913108,-8.10721 0.07324,0 4.084137,3.64824 8.91311,8.10721 l 8.779947,8.10722 v 16.22903 16.22902 l -0.654245,-0.63397 c -1.221047,-1.18321 -16.973276,-15.68658 -17.037328,-15.68658 -0.054,0 -15.1151316,13.86438 -17.0402954,15.68628 l -0.6542449,0.61915 z"
                        id="scale-background-5" />
                </g>
                <g id="SMU-scale-block-6">
                    <title>{{rangeLegend.range[2][0]}} - {{rangeLegend.range[2][1]}} {{unit}}</title>
                    <path class="path-stroke" d="M 18.999999,181 0.99999995,197.625 V 214.18164 231 l 17.99999905,-16.625 18,16.625 v -33.375 z m 0,0.39062 17.714844,16.35938 v 32.59765 L 18.999999,213.98633 1.2851562,230.34765 V 214.18164 197.75 Z"
                        id="stroke-6" />
                    <path class="scale-background"
                        d="m 1.3096343,214.01261 0.00114,-16.20309 8.8018217,-8.12332 c 4.841001,-4.46783 8.834593,-8.12876 8.874648,-8.13539 0.04005,-0.007 4.040479,3.64885 8.889832,8.12332 l 8.817005,8.13539 2.28e-4,16.19724 2.27e-4,16.19723 -0.375563,-0.32977 c -0.206561,-0.18138 -4.059493,-3.72747 -8.562074,-7.88026 -4.50258,-4.15278 -8.317212,-7.67052 -8.476957,-7.81719 l -0.290447,-0.26673 -8.596814,7.93606 c -4.7281873,4.36482 -8.7064286,8.03359 -8.840475,8.1528 l -0.2437209,0.21676 z"
                        id="scale-background-6" />
                </g>
                <g id="SMU-scale-block-7">
                    <title>{{rangeLegend.range[1][0]}} - {{rangeLegend.range[1][1]}} {{unit}}</title>
                    <path class="path-stroke" d="M 18.999999,217 0.99999995,233.625 V 250.18164 267 l 17.99999905,-16.625 18,16.625 v -33.375 z m 0,0.39062 17.714843,16.35938 v 32.59765 L 18.999999,249.98633 1.2851562,266.34765 V 250.18164 233.75 Z"
                        id="stroke-7" />
                    <path class="scale-background"
                        d="m 1.3365448,249.96367 0.028836,-16.19101 6.960278,-6.43272 c 3.8281522,-3.538 7.7962892,-7.20467 8.8180822,-8.14816 l 1.857805,-1.71543 8.818084,8.14461 8.818082,8.1446 0.02884,16.19456 c 0.01586,8.907 -0.01262,16.17742 -0.0633,16.15649 -0.05067,-0.0208 -3.998177,-3.64778 -8.772233,-8.05967 -4.774057,-4.41188 -8.747399,-8.02161 -8.829649,-8.02161 -0.08225,0 -4.05485,3.60973 -8.827995,8.02161 -4.773147,4.41189 -8.7205723,8.03874 -8.7720567,8.05967 -0.051484,0.0208 -0.080632,-7.24789 -0.064772,-16.15294 z"
                        id="scale-background-7" />
                </g>
                <g id="SMU-scale-block-8">
                    <title>{{rangeLegend.range[0][0]}} - {{rangeLegend.range[0][1]}} {{unit}}</title>
                    <path class="path-stroke" d="M 18.999999,253 0.99999995,269.625 V 286.18164 303 l 17.99999905,-16.625 18,16.625 v -33.375 z m 0,0.39062 17.714844,16.35938 v 32.59765 L 18.999999,285.98633 1.2851562,302.34765 V 286.18164 269.75 Z"
                        id="stroke-8" />
                    <path class="scale-background"
                        d="m 1.3084897,286.03604 v -16.21559 l 8.5463101,-7.90138 c 4.7004702,-4.34576 8.6888092,-8.01607 8.8629752,-8.15624 l 0.316666,-0.25485 8.830081,8.1546 8.830081,8.1546 v 16.21664 16.21663 l -0.426682,-0.40732 c -0.234674,-0.22402 -4.208058,-3.89726 -8.829745,-8.16274 -7.337221,-6.77172 -8.4266,-7.73683 -8.588625,-7.60893 -0.199409,0.15741 -16.251784,14.94994 -17.057489,15.71876 l -0.4835723,0.46143 z"
                        id="scale-background-8" />
                </g>

            </svg>
        </div>
        <div class="legend-min">
            {{rangeLegend.min}} {{unit}}
        </div>
    </div>
</div>
</template>

<script>
import {
    mapState
} from 'vuex'
import tooltip from "./Tooltip"
export default {
    data(){
        return {
            isCustomColor: false
        }
    },
    components: {
        tooltip
    },
    props: {
        rangeLegend: Object
    },
    computed: {
        styleObject() {
            return this.isCustomColor ?
                {background: 'linear-gradient(' + this.legendEndColorScientists + ', #D7D7D7)'} : {background:''}

        },
        ...mapState([
            'filterOption',
            'legendEndColorScientists'
        ]),
        unit() {
            switch (this.filterOption) {
                case 'YouSci':
                    this.isCustomColor = true;
                    return "чел."
                    break;
                case 'SMU':
                    this.isCustomColor = false;
                    return "СМУ"
                    break;
            }
        }
    }
};
</script>

<style scoped>
.smu-map-legend {
    width: 2%;
    display: flex;
    align-items: center;
}

.legend-body svg {
    background: -webkit-linear-gradient(#5E8CF0, #D7D7D7);
    background: linear-gradient(#5E8CF0, #D7D7D7);
}

.legend {
    font-size: 1rem;
    line-height: 1.1875rem;
    color: #515151;
    font-weight: 600;
    width: 100%;
}

.legend-body {}

.legend-body svg {
    width: 100%;
    height: 100%;
}

.legend-max {
    display: flex;
}

.legend-min,
.legend-max {
    height: 20px;
    width: 100px;
    text-align: left;
}

.legend-body path:hover {
    cursor: pointer;
    stroke: #06318d !important;
}

.legend-body path#SMU-scale-background:hover {
    stroke: #fff !important;
}

.legend-body path#SMU-scale-background {
    stroke: #fff;
    stroke-width: 1;
    fill: #fff !important;
}

.path-stroke {
    stroke-width: 1;
    stroke: #808080;
    stroke-opacity: 1;
    stroke-miterlimit: 4;
    stroke-dasharray: none;
}

.scale-background {
    fill: transparent;
}
</style>
